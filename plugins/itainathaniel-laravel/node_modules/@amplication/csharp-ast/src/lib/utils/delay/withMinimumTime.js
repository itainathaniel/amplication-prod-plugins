"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withMinimumTime = withMinimumTime;
const delay_1 = require("./delay");
/**
 * if the promise resolves:
 *   - if alwaysDelay=true, this doesn't resolve until after ms
 *   - if alwaysDelay=false, this resolves immediately
 * if the promise rejects, this doesn't reject until after ms
 *   (timer starts when withMinimumTime() is invoked)
 */
async function withMinimumTime(promise, ms, { alwaysDelay = false } = {}) {
    const delayPromise = (0, delay_1.delay)(ms);
    try {
        const result = await promise;
        if (alwaysDelay) {
            await delayPromise;
        }
        return result;
    }
    catch (error) {
        await delayPromise;
        throw error;
    }
}
//# sourceMappingURL=withMinimumTime.js.map